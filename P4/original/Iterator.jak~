layer original;

SoUrCe RooT root "../root/Iterator.jak"; abstract class Iterator$$root {

    Container c;
    Node current;
    boolean init;

    Iterator$$root(Container c) {
        this.c = c;
        current = c.getHead();
        init = true;
    }

    Node getNext() {
        if (init) {
            init = false;
        } else {
            current = current.right;
        }
        return current;
    }

    boolean hasNext() {
        if (init && current != null) {
            return true;
        }
        return (current != null && current.right != null);
    }

    void delete() {
        Node next = current.right;
        c.delete(current);
        current = next;
        init = true;
    }
}

SoUrCe  debug "../debug/Iterator.jak"; abstract class Iterator$$debug extends  Iterator$$root  {

    Node getNext() {
        Node current = super.getNext();
        if (Container.debug) {
            System.out.println("get next returns " + current);
        }
        return current;
    }
}

SoUrCe  sizeOf "../sizeOf/Iterator.jak"; abstract class Iterator$$sizeOf extends  Iterator$$debug  {
}

SoUrCe  counter "../counter/Iterator.jak";  abstract class Iterator$$counter extends  Iterator$$sizeOf  {
 }

SoUrCe  concrete "../concrete/Iterator.jak"; class Iterator extends  Iterator$$counter  {

}